<!DOCTYPE html>
<html>
<head>
    <title>Test Básico - Botones</title>
</head>
<body style="font-family: Arial; padding: 20px; background: #333; color: white;">
    
    <h1>🔧 TEST DIAGNÓSTICO - Dashboard Seminuevos</h1>
    
    <div style="margin: 20px 0;">
        <h2>📋 Estado del Sistema:</h2>
        <div id="status" style="background: #555; padding: 10px; border-radius: 5px; margin: 10px 0;">
            Iniciando diagnóstico...
        </div>
    </div>
    
    <div style="margin: 20px 0;">
        <h2>🎯 Pruebas de Botones:</h2>
        
        <!-- Test 1: Función inline -->
        <button onclick="alert('✅ Botón 1 funciona!')" style="background: red; color: white; padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; cursor: pointer;">
            TEST 1: Alert Directo
        </button>
        
        <!-- Test 2: Función definida -->
        <button onclick="testFunction()" style="background: blue; color: white; padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; cursor: pointer;">
            TEST 2: Función Definida
        </button>
        
        <!-- Test 3: Función principal -->
        <button onclick="loadDemo()" style="background: green; color: white; padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; cursor: pointer;">
            TEST 3: loadDemo()
        </button>
        
        <!-- Test 4: Event listener -->
        <button id="test4" style="background: orange; color: white; padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; cursor: pointer;">
            TEST 4: Event Listener
        </button>
    </div>
    
    <div style="margin: 20px 0;">
        <h2>📊 Log de Eventos:</h2>
        <div id="log" style="background: #222; padding: 10px; border-radius: 5px; height: 200px; overflow-y: auto; font-family: monospace; font-size: 12px;">
            <!-- Los logs aparecerán aquí -->
        </div>
    </div>

    <script>
        // Función para logging
        function log(message) {
            const logDiv = document.getElementById('log');
            const time = new Date().toLocaleTimeString();
            const logEntry = `[${time}] ${message}\n`;
            
            console.log(logEntry);
            
            if (logDiv) {
                logDiv.innerHTML += logEntry;
                logDiv.scrollTop = logDiv.scrollHeight;
            }
        }
        
        // Función para actualizar status
        function updateStatus(message) {
            const statusDiv = document.getElementById('status');
            if (statusDiv) {
                statusDiv.innerHTML = `<strong>${new Date().toLocaleTimeString()}:</strong> ${message}`;
            }
            log(`STATUS: ${message}`);
        }
        
        // TEST: Función básica
        function testFunction() {
            log("🎯 testFunction() ejecutada correctamente");
            updateStatus("✅ Función testFunction() funciona");
            alert("✅ testFunction() ejecutada!");
        }
        
        // FUNCIÓN PRINCIPAL: loadDemo
        function loadDemo() {
            log("🚀 loadDemo() iniciada");
            updateStatus("⏳ Ejecutando loadDemo()...");
            
            try {
                // Simular trabajo
                setTimeout(() => {
                    log("✅ loadDemo() completada exitosamente");
                    updateStatus("✅ loadDemo() ejecutada correctamente");
                    alert("🎉 ¡loadDemo() funciona perfectamente!");
                }, 500);
                
            } catch (error) {
                log(`❌ Error en loadDemo(): ${error.message}`);
                updateStatus(`❌ Error: ${error.message}`);
            }
        }
        
        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            log("📜 DOM completamente cargado");
            updateStatus("✅ Sistema inicializado");
            
            // Asignar event listener al botón 4
            const test4Button = document.getElementById('test4');
            if (test4Button) {
                test4Button.addEventListener('click', function() {
                    log("🎯 Event listener del botón 4 ejecutado");
                    updateStatus("✅ Event listener funciona");
                    alert("✅ Event listener funciona!");
                });
                log("🔗 Event listener asignado al botón 4");
            }
        });
        
        // Capturar errores globales
        window.addEventListener('error', function(e) {
            log(`❌ ERROR GLOBAL: ${e.message} en ${e.filename}:${e.lineno}`);
            updateStatus(`❌ Error global capturado`);
        });
        
        // Log inicial
        log("🚀 Script iniciado");
        updateStatus("⏳ Cargando sistema...");
    </script>
</body>
</html>
